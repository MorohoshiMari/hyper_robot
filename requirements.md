# requirements.md

このファイルには，このディレクトリで実装して欲しいアプリケーションについての全てが記されている仕様書である．
実装の時は，適宜このファイルを参照してください．

# 概要

- 作るもの
  - 「ハイパーロボット」というボードゲームを遊ぶことのできるWebアプリケーション
- 作らないもの
  - オンライン対応（デプロイなど）
    - localhostで動けば良い
  - 対戦要素
  - ソルバ

# 詳細

## 「ハイパーロボット」について

おそらく知っていると思うが，念の為記しておく

- 目的
  - 盤上のロボットを特定の位置にできるだけ少ない手数で移動させる
- 用語
  - ボード
    - 16×16のグリッド
      - 以下，1番左上のマスを(0,0)とし，そこから下にiマス，右にjマス移動した地点のマス目をマス(i,j)と呼ぶ．
    - マスとマスの間に壁が存在する場合がある
    - ボードの四方は壁によって囲まれている
    - マス(7,7),(7,8),(8,7),(8,8)は埋め立てられて壁となっているため，進入不可である
  - ロボット
    - 赤，青，黄，緑の4色がある
  - チップ
    - 赤，青，黄，緑の4色がある
    - ロボットを対応する色のチップにぴったりと移動させることができればクリアである
- ゲームの進め方
  - 初期状態では，ボード上にロボットとチップが相異なる壁でないマスに配置されている
  - 赤，青，黄，緑のいずれかの色が指定される
  - プレイヤーは次の一連の操作を1手として，ロボットを移動させる
    - 盤上の4つのロボットから1つを選ぶ
    - そのロボットを，現在いる位置から上下左右いずれかに，壁や他のロボットに当たるまで移動させる
  - 最初に指定された色のロボットが，対応する色のチップに移動し停止すればクリアである
  - プレイヤーは，クリアまでの手数をできる限り最小化しようと試みる

## 要件定義

### ボードの初期配置について

`problems` ディレクトリを用意し，その中に以下の形式のテキストファイルを置くこととする

```
r_i r_j R_i R_j
b_i b_j B_i B_j
y_i y_j Y_i Y_j
g_i g_j G_i G_j
S_0
S_1
⋮
S_15
T_0
T_1
⋮
T_15
```
初期配置ではマス(r_i, r_j), (b_i, b_j), (y_i, y_j), (g_i, g_j)に，それぞれ赤，青，黄，緑のロボットが配置されている．
また，マス(R_i, R_j), (B_i, B_j), (Y_i, Y_j), (G_i, G_j)に，それぞれ赤，青，黄，緑のチップが配置されている．
S_i(0≤i≤15)は0および1のみからなる長さ15の文字列で，S_iのj文字目(1≤j≤15)をS_ijとしたとき，S_ijが1ならば，マス(i,j-1)とマス(i,j)の間に壁が存在する．S_ijが0ならば，マス(i,j-1)とマス(i,j)の間に壁はない．
T_j(0≤j≤15)は0および1のみからなる長さ15の文字列で，T_jのi文字目(1≤i≤15)をT_ijとしたとき，T_ijが1ならば，マス(i-1,j)>とマス(i,j)の間に壁が存在する．T_ijが0ならば，マス(i-1,j)とマス(i,j)の間に壁はない．

### UI

- 左側に現在のボードを表示する
- 右側に以下を表示
  - 現在の手数
  - 「UNDO」ボタン
    - これを押すと1手前の状態に戻すことができる
  - 「RESET」ボタン
    - これを押すとロボットを全て初期配置に戻す
  - 問題番号（問題ファイルの拡張子を除いたファイル名）と問題切り替えのための左右ボタン

### ロボットの移動のさせ方

まず，移動させたいロボットをクリックする
その後，クリックしたロボットの四方に移動方向を示す三角形が4つ表示され，それのどれかを押すことでロボットが移動する
ロボットの最終的な移動先となるマスも光り，それを押すことでも移動が可能
ロボットの移動は瞬間的な移動ではなく，アニメーションをつけて移動させること

### 言語

Typescript
